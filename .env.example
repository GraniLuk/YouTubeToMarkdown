# YouTube API Configuration
YOUTUBE_API_KEY=your_youtube_api_key_here

# LLM API Keys
GEMINI_API_KEY=your_gemini_api_key_here
PERPLEXITY_API_KEY=your_perplexity_api_key_here  # Optional fallback LLM

# Ollama Configuration (Local LLM)
OLLAMA_MODEL=gemma3:4b
OLLAMA_BASE_URL=http://localhost:11434

# Output Configuration
SUMMARIES_PATH=./Summaries

# Google Drive Integration (Optional)
GOOGLE_DRIVE_FOLDER_ID=your_folder_id_here

# Kindle Email Delivery (Optional)
KINDLE_EMAIL=your_kindle_email@kindle.com

# Audio Fallback Configuration (yt-dlp + Whisper)
# Enable audio-based transcript extraction when youtube-transcript-api fails
ENABLE_AUDIO_FALLBACK=true

# Whisper Model Configuration
# Models: tiny, base, small, medium, large
# - tiny: Fastest, lowest accuracy (~75MB)
# - base: Good balance of speed/accuracy (~150MB) - RECOMMENDED
# - small: Better accuracy, slower (~500MB)
# - medium: High accuracy, much slower (~1.5GB)
# - large: Best accuracy, very slow (~3GB)
# Note: Models must be pre-downloaded. Download by running:
# whisper --model base --language English 'test.mp3'
WHISPER_MODEL=base

# Whisper Device: cpu or cuda (GPU acceleration requires CUDA-compatible GPU)
WHISPER_DEVICE=cpu

# Audio cache directory for temporary audio files
AUDIO_CACHE_DIR=temp_audio

# Maximum audio file size in MB (safety limit to prevent excessive downloads)
MAX_AUDIO_SIZE_MB=100

# Minimum video duration in seconds for audio fallback processing
# Videos shorter than this will skip audio fallback (e.g., YouTube Shorts, promotional clips)
# Default: 30 seconds
MIN_VIDEO_DURATION_SECONDS=30

# Consecutive failures threshold before switching to fallback-only mode
# After this many consecutive transcript failures, all remaining videos will use audio fallback
CONSECUTIVE_FAILURES_THRESHOLD=3

# Audio Download Rate Limiting Configuration
# Delay in seconds between consecutive audio downloads (prevents YouTube rate limiting)
# Recommended: 10 seconds minimum to avoid HTTP 403 errors
AUDIO_DOWNLOAD_DELAY_SECONDS=10

# HTTP 403 (Forbidden) Retry Configuration
# Number of retries when YouTube returns 403 Forbidden (rate limit)
# Set to 0 to disable retries, 1 for one retry attempt (2 total attempts), etc.
AUDIO_DOWNLOAD_403_RETRIES=1

# Delay in seconds before retrying after HTTP 403 error
# Default: 300 seconds (5 minutes) - gives YouTube time to lift the temporary block
AUDIO_DOWNLOAD_403_RETRY_DELAY_SECONDS=300
